<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/twilio/twilio-node#readme"

    >twilio (v2.11.1)</a>
</h1>
<h4>A Twilio helper library</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio">module twilio</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.twilio">
            function <span class="apidocSignatureSpan"></span>twilio
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken">
            function <span class="apidocSignatureSpan">twilio.</span>AccessToken
            <span class="apidocSignatureSpan">(accountSid, keySid, secret, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.ConversationsGrant">
            function <span class="apidocSignatureSpan">twilio.</span>AccessToken.ConversationsGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.IpMessagingGrant">
            function <span class="apidocSignatureSpan">twilio.</span>AccessToken.IpMessagingGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VideoGrant">
            function <span class="apidocSignatureSpan">twilio.</span>AccessToken.VideoGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VoiceGrant">
            function <span class="apidocSignatureSpan">twilio.</span>AccessToken.VoiceGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.Capability">
            function <span class="apidocSignatureSpan">twilio.</span>Capability
            <span class="apidocSignatureSpan">(sid, tkn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient">
            function <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient.super_">
            function <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient.super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.LookupsClient">
            function <span class="apidocSignatureSpan">twilio.</span>LookupsClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.MonitorClient">
            function <span class="apidocSignatureSpan">twilio.</span>MonitorClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.PricingClient">
            function <span class="apidocSignatureSpan">twilio.</span>PricingClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.RestClient">
            function <span class="apidocSignatureSpan">twilio.</span>RestClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterClient">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterClient
            <span class="apidocSignatureSpan">(sid, tkn, workspaceSid, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterTaskQueueCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterTaskQueueCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, taskQueueSid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkerCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkerCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, workerSid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkspaceCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkspaceCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TrunkingClient">
            function <span class="apidocSignatureSpan">twilio.</span>TrunkingClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TwimlResponse">
            function <span class="apidocSignatureSpan">twilio.</span>TwimlResponse
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.generate">
            function <span class="apidocSignatureSpan">twilio.</span>generate
            <span class="apidocSignatureSpan">(client, method, url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.validateExpressRequest">
            function <span class="apidocSignatureSpan">twilio.</span>validateExpressRequest
            <span class="apidocSignatureSpan">(request, authToken, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.validateRequest">
            function <span class="apidocSignatureSpan">twilio.</span>validateRequest
            <span class="apidocSignatureSpan">(authToken, twilioHeader, url, params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.webhook">
            function <span class="apidocSignatureSpan">twilio.</span>webhook
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>AccessToken.ConversationsGrant.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>AccessToken.IpMessagingGrant.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>AccessToken.VideoGrant.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>AccessToken.VoiceGrant.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>AccessToken.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>Capability.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient.super_.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>RestClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>TaskRouterCapability.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>TaskRouterTaskQueueCapability.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkerCapability.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkspaceCapability.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.</span>webhooks</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken">module twilio.AccessToken</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.AccessToken">
            function <span class="apidocSignatureSpan">twilio.</span>AccessToken
            <span class="apidocSignatureSpan">(accountSid, keySid, secret, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.ConversationsGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>ConversationsGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.IpMessagingGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>IpMessagingGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VideoGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VideoGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VoiceGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VoiceGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">twilio.AccessToken.</span>ALGORITHMS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">twilio.AccessToken.</span>DEFAULT_ALGORITHM</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.ConversationsGrant">module twilio.AccessToken.ConversationsGrant</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.ConversationsGrant.ConversationsGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>ConversationsGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.ConversationsGrant.prototype">module twilio.AccessToken.ConversationsGrant.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.ConversationsGrant.prototype.toPayload">
            function <span class="apidocSignatureSpan">twilio.AccessToken.ConversationsGrant.prototype.</span>toPayload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">twilio.AccessToken.ConversationsGrant.prototype.</span>key</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.IpMessagingGrant">module twilio.AccessToken.IpMessagingGrant</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.IpMessagingGrant.IpMessagingGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>IpMessagingGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.IpMessagingGrant.prototype">module twilio.AccessToken.IpMessagingGrant.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.IpMessagingGrant.prototype.toPayload">
            function <span class="apidocSignatureSpan">twilio.AccessToken.IpMessagingGrant.prototype.</span>toPayload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">twilio.AccessToken.IpMessagingGrant.prototype.</span>key</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.VideoGrant">module twilio.AccessToken.VideoGrant</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VideoGrant.VideoGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VideoGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.VideoGrant.prototype">module twilio.AccessToken.VideoGrant.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VideoGrant.prototype.toPayload">
            function <span class="apidocSignatureSpan">twilio.AccessToken.VideoGrant.prototype.</span>toPayload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">twilio.AccessToken.VideoGrant.prototype.</span>key</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.VoiceGrant">module twilio.AccessToken.VoiceGrant</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VoiceGrant.VoiceGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VoiceGrant
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.VoiceGrant.prototype">module twilio.AccessToken.VoiceGrant.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.VoiceGrant.prototype.toPayload">
            function <span class="apidocSignatureSpan">twilio.AccessToken.VoiceGrant.prototype.</span>toPayload
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">twilio.AccessToken.VoiceGrant.prototype.</span>key</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.AccessToken.prototype">module twilio.AccessToken.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.prototype.addGrant">
            function <span class="apidocSignatureSpan">twilio.AccessToken.prototype.</span>addGrant
            <span class="apidocSignatureSpan">(grant)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.AccessToken.prototype.toJwt">
            function <span class="apidocSignatureSpan">twilio.AccessToken.prototype.</span>toJwt
            <span class="apidocSignatureSpan">(algorithm)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.Capability">module twilio.Capability</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.Capability.Capability">
            function <span class="apidocSignatureSpan">twilio.</span>Capability
            <span class="apidocSignatureSpan">(sid, tkn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.Capability.prototype">module twilio.Capability.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.Capability.prototype.allowClientIncoming">
            function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>allowClientIncoming
            <span class="apidocSignatureSpan">(clientName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.Capability.prototype.allowClientOutgoing">
            function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>allowClientOutgoing
            <span class="apidocSignatureSpan">(appSid, params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.Capability.prototype.allowEventStream">
            function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>allowEventStream
            <span class="apidocSignatureSpan">(filters)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.Capability.prototype.generate">
            function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>generate
            <span class="apidocSignatureSpan">(timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.IpMessagingClient">module twilio.IpMessagingClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient.IpMessagingClient">
            function <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient.super_">
            function <span class="apidocSignatureSpan">twilio.IpMessagingClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.IpMessagingClient.super_">module twilio.IpMessagingClient.super_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient.super_.super_">
            function <span class="apidocSignatureSpan">twilio.IpMessagingClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.IpMessagingClient.super_.prototype">module twilio.IpMessagingClient.super_.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient.super_.prototype.getBaseUrl">
            function <span class="apidocSignatureSpan">twilio.IpMessagingClient.super_.prototype.</span>getBaseUrl
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.IpMessagingClient.super_.prototype.request">
            function <span class="apidocSignatureSpan">twilio.IpMessagingClient.super_.prototype.</span>request
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.LookupsClient">module twilio.LookupsClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.LookupsClient.LookupsClient">
            function <span class="apidocSignatureSpan">twilio.</span>LookupsClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.LookupsClient.super_">
            function <span class="apidocSignatureSpan">twilio.LookupsClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.MonitorClient">module twilio.MonitorClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.MonitorClient.MonitorClient">
            function <span class="apidocSignatureSpan">twilio.</span>MonitorClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.MonitorClient.super_">
            function <span class="apidocSignatureSpan">twilio.MonitorClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.PricingClient">module twilio.PricingClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.PricingClient.PricingClient">
            function <span class="apidocSignatureSpan">twilio.</span>PricingClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.PricingClient.super_">
            function <span class="apidocSignatureSpan">twilio.PricingClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.RestClient">module twilio.RestClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.RestClient.RestClient">
            function <span class="apidocSignatureSpan">twilio.</span>RestClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.RestClient.super_">
            function <span class="apidocSignatureSpan">twilio.RestClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.RestClient.prototype">module twilio.RestClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.RestClient.prototype.request">
            function <span class="apidocSignatureSpan">twilio.RestClient.prototype.</span>request
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterCapability">module twilio.TaskRouterCapability</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.TaskRouterCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterCapability.prototype">module twilio.TaskRouterCapability.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype._generate">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>_generate
            <span class="apidocSignatureSpan">(ttl, extraAttributes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype._setupResource">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>_setupResource
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype._validateJWT">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>_validateJWT
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.addPolicy">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>addPolicy
            <span class="apidocSignatureSpan">(url, method, allowed, queryFilter, postFilter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allow">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allow
            <span class="apidocSignatureSpan">(url, method, queryFilter, postFilter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowDelete">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowDelete
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowDeleteSubresources">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowDeleteSubresources
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowFetchSubresources">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowFetchSubresources
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowTaskReservationUpdates">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowTaskReservationUpdates
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowUpdates">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowUpdates
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowUpdatesSubresources">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowUpdatesSubresources
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowWorkerActivityUpdates">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowWorkerActivityUpdates
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowWorkerFetchAttributes">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowWorkerFetchAttributes
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.deny">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>deny
            <span class="apidocSignatureSpan">(url, method, queryFilter, postFilter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterCapability.prototype.generate">
            function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>generate
            <span class="apidocSignatureSpan">(ttl)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterClient">module twilio.TaskRouterClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterClient.TaskRouterClient">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterClient
            <span class="apidocSignatureSpan">(sid, tkn, workspaceSid, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterClient.super_">
            function <span class="apidocSignatureSpan">twilio.TaskRouterClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterTaskQueueCapability">module twilio.TaskRouterTaskQueueCapability</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterTaskQueueCapability.TaskRouterTaskQueueCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterTaskQueueCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, taskQueueSid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterTaskQueueCapability.super_">
            function <span class="apidocSignatureSpan">twilio.TaskRouterTaskQueueCapability.</span>super_
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterTaskQueueCapability.prototype">module twilio.TaskRouterTaskQueueCapability.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterTaskQueueCapability.prototype._setupResource">
            function <span class="apidocSignatureSpan">twilio.TaskRouterTaskQueueCapability.prototype.</span>_setupResource
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterWorkerCapability">module twilio.TaskRouterWorkerCapability</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkerCapability.TaskRouterWorkerCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkerCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, workerSid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkerCapability.super_">
            function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.</span>super_
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterWorkerCapability.prototype">module twilio.TaskRouterWorkerCapability.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkerCapability.prototype._setupResource">
            function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.prototype.</span>_setupResource
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkerCapability.prototype.allowActivityUpdates">
            function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.prototype.</span>allowActivityUpdates
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkerCapability.prototype.allowReservationUpdates">
            function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.prototype.</span>allowReservationUpdates
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterWorkspaceCapability">module twilio.TaskRouterWorkspaceCapability</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkspaceCapability.TaskRouterWorkspaceCapability">
            function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkspaceCapability
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkspaceCapability.super_">
            function <span class="apidocSignatureSpan">twilio.TaskRouterWorkspaceCapability.</span>super_
            <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TaskRouterWorkspaceCapability.prototype">module twilio.TaskRouterWorkspaceCapability.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TaskRouterWorkspaceCapability.prototype._setupResource">
            function <span class="apidocSignatureSpan">twilio.TaskRouterWorkspaceCapability.prototype.</span>_setupResource
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.TrunkingClient">module twilio.TrunkingClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TrunkingClient.TrunkingClient">
            function <span class="apidocSignatureSpan">twilio.</span>TrunkingClient
            <span class="apidocSignatureSpan">(sid, tkn, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.TrunkingClient.super_">
            function <span class="apidocSignatureSpan">twilio.TrunkingClient.</span>super_
            <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.generate">module twilio.generate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.generate.generate">
            function <span class="apidocSignatureSpan">twilio.</span>generate
            <span class="apidocSignatureSpan">(client, method, url)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.generate.restFunctions">
            function <span class="apidocSignatureSpan">twilio.generate.</span>restFunctions
            <span class="apidocSignatureSpan">(object, client, methods, resource)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.utils">module twilio.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.utils.initializeTokens">
            function <span class="apidocSignatureSpan">twilio.utils.</span>initializeTokens
            <span class="apidocSignatureSpan">(obj, type, sid, tkn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.twilio.webhooks">module twilio.webhooks</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.webhooks.validateExpressRequest">
            function <span class="apidocSignatureSpan">twilio.webhooks.</span>validateExpressRequest
            <span class="apidocSignatureSpan">(request, authToken, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.webhooks.validateRequest">
            function <span class="apidocSignatureSpan">twilio.webhooks.</span>validateRequest
            <span class="apidocSignatureSpan">(authToken, twilioHeader, url, params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.twilio.webhooks.webhook">
            function <span class="apidocSignatureSpan">twilio.webhooks.</span>webhook
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio" id="apidoc.module.twilio">module twilio</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.twilio" id="apidoc.element.twilio.twilio">
        function <span class="apidocSignatureSpan"></span>twilio
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function initializer(sid, tkn, options) {
    return new RestClient(sid, tkn, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken" id="apidoc.element.twilio.AccessToken">
        function <span class="apidocSignatureSpan">twilio.</span>AccessToken
        <span class="apidocSignatureSpan">(accountSid, keySid, secret, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AccessToken(accountSid, keySid, secret, opts) {
  if (!accountSid) { throw new Error(&#x27;accountSid is required&#x27;); }
  if (!keySid) { throw new Error(&#x27;keySid is required&#x27;); }
  if (!secret) { throw new Error(&#x27;secret is required&#x27;); }
  opts = opts || {};

  this.accountSid = accountSid;
  this.keySid = keySid;
  this.secret = secret;
  this.ttl = opts.ttl || 3600;
  this.identity = opts.identity;
  this.nbf = opts.nbf;
  this.grants = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.ConversationsGrant" id="apidoc.element.twilio.AccessToken.ConversationsGrant">
        function <span class="apidocSignatureSpan">twilio.</span>AccessToken.ConversationsGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConversationsGrant(options) {
  options = options || {};
  this.configurationProfileSid = options.configurationProfileSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.IpMessagingGrant" id="apidoc.element.twilio.AccessToken.IpMessagingGrant">
        function <span class="apidocSignatureSpan">twilio.</span>AccessToken.IpMessagingGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IpMessagingGrant(options) {
  options = options || {};
  this.serviceSid = options.serviceSid;
  this.endpointId = options.endpointId;
  this.deploymentRoleSid = options.deploymentRoleSid;
  this.pushCredentialSid = options.pushCredentialSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VideoGrant" id="apidoc.element.twilio.AccessToken.VideoGrant">
        function <span class="apidocSignatureSpan">twilio.</span>AccessToken.VideoGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VideoGrant(options) {
  options = options || {};
  this.configurationProfileSid = options.configurationProfileSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VoiceGrant" id="apidoc.element.twilio.AccessToken.VoiceGrant">
        function <span class="apidocSignatureSpan">twilio.</span>AccessToken.VoiceGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VoiceGrant(options) {
  options = options || {};
  this.outgoingApplicationSid = options.outgoingApplicationSid;
  this.outgoingApplicationParams = options.outgoingApplicationParams;
  this.pushCredentialSid = options.pushCredentialSid;
  this.endpointId = options.endpointId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.Capability" id="apidoc.element.twilio.Capability">
        function <span class="apidocSignatureSpan">twilio.</span>Capability
        <span class="apidocSignatureSpan">(sid, tkn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Capability(sid, tkn) {
    if(!(this instanceof Capability)) {
      return new Capability(sid, tkn);
    }

    utils.initializeTokens(this, &#x27;Capability&#x27;, sid, tkn);
    this.capabilities = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient" id="apidoc.element.twilio.IpMessagingClient">
        function <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IpMessagingClient(sid, tkn, options) {
    options = options || {};
    IpMessagingClient.super_.call(
        this, sid, tkn,
        options.host || &#x27;ip-messaging.twilio.com&#x27;,
        options.apiVersion || &#x27;v1&#x27;,
        options.timeout
    );

    var servicesResource = require(&#x27;./resources/ip_messaging/Services&#x27;)(this);
    this.services = servicesResource;

    var credentialsResource = require(&#x27;./resources/ip_messaging/Credentials&#x27;)(this);
    this.credentials = credentialsResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient.super_" id="apidoc.element.twilio.IpMessagingClient.super_">
        function <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient.super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.LookupsClient" id="apidoc.element.twilio.LookupsClient">
        function <span class="apidocSignatureSpan">twilio.</span>LookupsClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LookupsClient(sid, tkn, options) {
    //Required client config
    options = options || {};
    LookupsClient.super_.call(this, sid, tkn, options.host || &#x27;lookups.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout);

    var phoneNumbersResource = require(&#x27;./resources/lookups/PhoneNumbers&#x27;)(this);
    this.phoneNumbers = phoneNumbersResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.MonitorClient" id="apidoc.element.twilio.MonitorClient">
        function <span class="apidocSignatureSpan">twilio.</span>MonitorClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MonitorClient(sid, tkn, options) {
    //Required client config
    options = options || {};
    MonitorClient.super_.call(this, sid, tkn, options.host || &#x27;monitor.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout);

    //REST Resource - shorthand for just &#x22;event&#x22; and &#x22;events&#x22; to match the REST API
    var eventResource = require(&#x27;./resources/monitor/Events&#x27;)(this);
    this.events = eventResource;
    var alertResource = require(&#x27;./resources/monitor/Alerts&#x27;)(this);
    this.alerts = alertResource;

    //mix the account object in with the client object - assume master account for resources
    _.extend(this, eventResource);
    _.extend(this, alertResource);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.PricingClient" id="apidoc.element.twilio.PricingClient">
        function <span class="apidocSignatureSpan">twilio.</span>PricingClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PricingClient(sid, tkn, options) {
    options = options || {};
    PricingClient.super_.call(this, sid, tkn, options.host || &#x27;pricing.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout);

    var voiceResource = require(&#x27;./resources/pricing/Voice&#x27;)(this);
    this.voice = voiceResource;

    var phoneNumbersResource = require(&#x27;./resources/pricing/PhoneNumbers&#x27;)(this);
    this.phoneNumbers = phoneNumbersResource;

    var messagingResource = require(&#x27;./resources/pricing/Messaging&#x27;)(this);
    this.messaging = messagingResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.RestClient" id="apidoc.element.twilio.RestClient">
        function <span class="apidocSignatureSpan">twilio.</span>RestClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RestClient(sid, tkn, options) {
    options = options || {};
    RestClient.super_.call(this, sid, tkn, options.host, options.apiVersion, options.timeout);

    //REST Resource - shorthand for just &#x22;account&#x22; and &#x22;accounts&#x22; to match the REST API
    var accountResource = require(&#x27;./resources/Accounts&#x27;)(this);
    this.accounts = accountResource;

    //mix the account object in with the client object - assume master account for resources
    _.extend(this,accountResource);

    //Messaging shorthand
    this.sendSms = this.accounts.sms.messages.post;
    this.sendMms = this.accounts.messages.post;
    this.sendMessage = this.accounts.messages.post;
    this.listSms = this.accounts.sms.messages.get;
    this.listMessages = this.accounts.messages.get;
    this.getSms = function(messageSid, callback) {
        this.accounts.sms.messages(messageSid).get(callback);
    };
    this.getMessage = function(messageSid, callback) {
        this.accounts.messages(messageSid).get(callback);
    };


    //Calls shorthand
    this.makeCall = this.accounts.calls.post;
    this.listCalls = this.accounts.calls.get;
    this.getCall = function(callSid, callback) {
        this.accounts.calls(callSid).get(callback);
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability" id="apidoc.element.twilio.TaskRouterCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterCapability(accountSid, authToken, workspaceSid, channelId) {
    this.accountSid = accountSid;
    this.authToken = authToken;
    this.policies = [];

    this.workspaceSid = workspaceSid;
    this.channelId = channelId;

    this._baseUrl = taskRouterUrlBase + &#x27;/&#x27; + taskRouterVersion + &#x27;/Workspaces/&#x27; + this.workspaceSid;

    this._validateJWT();

    this._setupResource();

    var eventsUrl = eventUrlBase + &#x27;/&#x27; + this.accountSid + &#x27;/&#x27; + channelId;

    // add permissions to GET and POST to the event-bridge channel
    this.allow(eventsUrl, &#x27;GET&#x27;);
    this.allow(eventsUrl, &#x27;POST&#x27;);

    // add permission to fetch the instance resource
    this.allow(this._resourceUrl, &#x27;GET&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterClient" id="apidoc.element.twilio.TaskRouterClient">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterClient
        <span class="apidocSignatureSpan">(sid, tkn, workspaceSid, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterClient(sid, tkn, workspaceSid, options) {
    //Required client config
    if (!workspaceSid) {
        if (process.env.TWILIO_WORKSPACE_SID) {
            this.workspaceSid = process.env.TWILIO_WORKSPACE_SID;
        }
        else {
            throw &#x27;Client requires a Workspace SID set explicitly or via the TWILIO_WORKSPACE_SID environment variables&#x27;;
        }
    }
    else {
        //trim spaces
        this.workspaceSid = workspaceSid.replace(/ /g, &#x27;&#x27;);
    }
    options = options || {};
    TaskRouterClient.super_.call(this, sid, tkn, options.host || &#x27;taskrouter.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout
);

    //REST Resource - shorthand for just &#x22;workspace&#x22; and &#x22;workspaces&#x22; to match the REST API
    var workspaceResource = require(&#x27;./resources/task_router/Workspaces&#x27;)(this);
    this.workspaces = workspaceResource;
    this.workspace = workspaceResource(this.workspaceSid);

    //mix the account object in with the client object - assume master account for resources
    _.extend(this, workspaceResource);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterTaskQueueCapability" id="apidoc.element.twilio.TaskRouterTaskQueueCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterTaskQueueCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, taskQueueSid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterTaskQueueCapability(accountSid, authToken, workspaceSid, taskQueueSid) {
    TaskRouterCapability.call(this, accountSid, authToken, workspaceSid, taskQueueSid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkerCapability" id="apidoc.element.twilio.TaskRouterWorkerCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkerCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, workerSid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterWorkerCapability(accountSid, authToken, workspaceSid, workerSid) {
    TaskRouterCapability.call(this, accountSid, authToken, workspaceSid, workerSid);

    this.reservationsUrl = this._baseUrl + &#x22;/Tasks/**&#x22;;
    this.activityUrl = this._baseUrl + &#x22;/Activities&#x22;;
    this.workerReservationsUrl = this._resourceUrl + &#x22;/Reservations/**&#x22;;

    // add permissions fo fetch the list of activities, tasks and worker reservations
    this.allow(this.activityUrl, &#x22;GET&#x22;);
    this.allow(this.reservationsUrl, &#x22;GET&#x22;);
    this.allow(this.workerReservationsUrl, &#x22;GET&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkspaceCapability" id="apidoc.element.twilio.TaskRouterWorkspaceCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkspaceCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterWorkspaceCapability(accountSid, authToken, workspaceSid) {
    TaskRouterCapability.call(this, accountSid, authToken, workspaceSid, workspaceSid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TrunkingClient" id="apidoc.element.twilio.TrunkingClient">
        function <span class="apidocSignatureSpan">twilio.</span>TrunkingClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TrunkingClient(sid, tkn, options) {
    options = options || {};
    TrunkingClient.super_.call(
        this, sid, tkn,
        options.host || &#x27;trunking.twilio.com&#x27;,
        options.apiVersion || &#x27;v1&#x27;,
        options.timeout
    );

    var trunkResource = require(&#x27;./resources/trunking/Trunks&#x27;)(this);
    this.trunks = trunkResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TwimlResponse" id="apidoc.element.twilio.TwimlResponse">
        function <span class="apidocSignatureSpan">twilio.</span>TwimlResponse
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">TwimlResponse = function () {
    return new Node({
        topLevel:true,
        name:&#x27;Response&#x27;,
        legalNodes:[&#x27;Say&#x27;, &#x27;Play&#x27;, &#x27;Gather&#x27;, &#x27;Record&#x27;, &#x27;Sms&#x27;, &#x27;Dial&#x27;, &#x27;Enqueue&#x27;, &#x27;Task&#x27;, &#x27;Leave&#x27;, &#x27;Hangup&#x27;, &#x27;Redirect&#x27;, &#x27;Reject&#x27;, &#x27;
Pause&#x27;, &#x27;Message&#x27;]
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.generate" id="apidoc.element.twilio.generate">
        function <span class="apidocSignatureSpan">twilio.</span>generate
        <span class="apidocSignatureSpan">(client, method, url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (client, method, url) {
    return function () {
        var args = process(arguments),
            requestArgs = {
                url:url,
                method:method
            };

        //Send parameters, if supplied
        if (args.twilioParams &#x26;&#x26; method === &#x27;GET&#x27;) {
            requestArgs.qs = args.twilioParams;
        } else if (args.twilioParams) {
            requestArgs.form = args.twilioParams;
        }

        //make request
        return client.request(requestArgs, args.callback);
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.validateExpressRequest" id="apidoc.element.twilio.validateExpressRequest">
        function <span class="apidocSignatureSpan">twilio.</span>validateExpressRequest
        <span class="apidocSignatureSpan">(request, authToken, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateExpressRequest = function (request, authToken, opts) {
    var options = opts||{}, webhookUrl;
    if (options.url) {
        // Let the user specify the full URL
        webhookUrl = options.url;
    } else {
        // Use configured host/protocol, or infer based on request
        var protocol = options.protocol||request.protocol;
        var host = options.host||request.headers.host;
        webhookUrl = url.format({
            protocol: protocol,
            host: host,
            pathname: request.originalUrl
        });
    }

    return exports.validateRequest(
        authToken,
        request.header(&#x27;X-Twilio-Signature&#x27;),
        webhookUrl,
        request.body||{}
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.error(&#x27;[Twilio]: Error - Twilio auth token is required for webhook request validation.&#x27;);
    response
        .type(&#x27;text/plain&#x27;)
        .status(500)
        .send(&#x27;Webhook Error - we attempted to validate this request without first configuring our auth token.&#x27;);
} else {
    // Check that the request originated from Twilio
    valid = exports.<span class="apidocCodeKeywordSpan">validateExpressRequest</span>(request, opts.authToken, {
        url: opts.url,
        host: opts.host,
        protocol: opts.protocol
    });
    if (valid) {
        next();
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.validateRequest" id="apidoc.element.twilio.validateRequest">
        function <span class="apidocSignatureSpan">twilio.</span>validateRequest
        <span class="apidocSignatureSpan">(authToken, twilioHeader, url, params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateRequest = function (authToken, twilioHeader, url, params) {
    Object.keys(params).sort().forEach(function(key, i) {
        url = url + key + params[key];
    });

    return scmp(twilioHeader, crypto.createHmac(&#x27;sha1&#x27;, authToken).update(new Buffer(url, &#x27;utf-8&#x27;)).digest(&#x27;Base64&#x27;));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        webhookUrl = url.format({
            protocol: protocol,
            host: host,
            pathname: request.originalUrl
        });
    }

    return exports.<span class="apidocCodeKeywordSpan">validateRequest</span>(
        authToken,
        request.header(&#x27;X-Twilio-Signature&#x27;),
        webhookUrl,
        request.body||{}
    );
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.webhook" id="apidoc.element.twilio.webhook">
        function <span class="apidocSignatureSpan">twilio.</span>webhook
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">webhook = function () {
    var opts = {
        validate:true,
        includeHelpers:true
    };

    // Process arguments
    var tokenString;
    for (var i = 0, l = arguments.length; i&#x3c;l; i++) {
        var arg = arguments[i];
        if (typeof arg === &#x27;string&#x27;) {
            tokenString = arg;
        } else {
            opts = _.extend(opts, arg);
        }
    }

    // set auth token from input or environment variable
    opts.authToken = tokenString ? tokenString : process.env.TWILIO_AUTH_TOKEN;

    // Create middleware function
    return function hook(request, response, next) {
        // Add helpers, unless disabled
        if (opts.includeHelpers) {
            var oldSend = response.send;
            response.send = function() {
                // This is a special TwiML-aware version of send.  If we detect
                // A twiml response object, we&#x27;ll set the content-type and
                // automatically call .toString()
                if (arguments.length == 1 &#x26;&#x26; arguments[0].legalNodes) {
                    response.type(&#x27;text/xml&#x27;);
                    oldSend.call(response,arguments[0].toString());
                } else {
                    // Continue with old version of send
                    oldSend.apply(response,arguments);
                }
            };
        }

        // Do validation if requested
        if (opts.validate) {
            // Check for a valid auth token
            if (!opts.authToken) {
                console.error(&#x27;[Twilio]: Error - Twilio auth token is required for webhook request validation.&#x27;);
                response
                    .type(&#x27;text/plain&#x27;)
                    .status(500)
                    .send(&#x27;Webhook Error - we attempted to validate this request without first configuring our auth token.&#x27;);
            } else {
                // Check that the request originated from Twilio
                valid = exports.validateExpressRequest(request, opts.authToken, {
                    url: opts.url,
                    host: opts.host,
                    protocol: opts.protocol
                });
                if (valid) {
                    next();
                } else {
                    return response
                        .type(&#x27;text/plain&#x27;)
                        .status(403)
                        .send(&#x27;Twilio Request Validation Failed.&#x27;);
                }
            }
        } else {
            next();
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
for XML (TwiML) rendering.  Default true.
- host: manually specify the host name used by Twilio in a number&#x27;s webhook config
- protocol: manually specify the protocol used by Twilio in a number&#x27;s webhook config

Returns a middleware function.

Examples:
var webhookMiddleware = twilio.<span class="apidocCodeKeywordSpan">webhook</span>();
var webhookMiddleware = twilio.webhook(&#x27;asdha9dhjasd&#x27;); //init with auth token
var webhookMiddleware = twilio.webhook({
validate:false // don&#x27;t attempt request validation
});
var webhookMiddleware = twilio.webhook({
host: &#x27;hook.twilio.com&#x27;,
protocol: &#x27;https&#x27;
...</pre></li>
    </ul>






























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken" id="apidoc.module.twilio.AccessToken">module twilio.AccessToken</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.AccessToken" id="apidoc.element.twilio.AccessToken.AccessToken">
        function <span class="apidocSignatureSpan">twilio.</span>AccessToken
        <span class="apidocSignatureSpan">(accountSid, keySid, secret, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AccessToken(accountSid, keySid, secret, opts) {
  if (!accountSid) { throw new Error(&#x27;accountSid is required&#x27;); }
  if (!keySid) { throw new Error(&#x27;keySid is required&#x27;); }
  if (!secret) { throw new Error(&#x27;secret is required&#x27;); }
  opts = opts || {};

  this.accountSid = accountSid;
  this.keySid = keySid;
  this.secret = secret;
  this.ttl = opts.ttl || 3600;
  this.identity = opts.identity;
  this.nbf = opts.nbf;
  this.grants = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.ConversationsGrant" id="apidoc.element.twilio.AccessToken.ConversationsGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>ConversationsGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConversationsGrant(options) {
  options = options || {};
  this.configurationProfileSid = options.configurationProfileSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.IpMessagingGrant" id="apidoc.element.twilio.AccessToken.IpMessagingGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>IpMessagingGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IpMessagingGrant(options) {
  options = options || {};
  this.serviceSid = options.serviceSid;
  this.endpointId = options.endpointId;
  this.deploymentRoleSid = options.deploymentRoleSid;
  this.pushCredentialSid = options.pushCredentialSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VideoGrant" id="apidoc.element.twilio.AccessToken.VideoGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VideoGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VideoGrant(options) {
  options = options || {};
  this.configurationProfileSid = options.configurationProfileSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VoiceGrant" id="apidoc.element.twilio.AccessToken.VoiceGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VoiceGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VoiceGrant(options) {
  options = options || {};
  this.outgoingApplicationSid = options.outgoingApplicationSid;
  this.outgoingApplicationParams = options.outgoingApplicationParams;
  this.pushCredentialSid = options.pushCredentialSid;
  this.endpointId = options.endpointId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.ConversationsGrant" id="apidoc.module.twilio.AccessToken.ConversationsGrant">module twilio.AccessToken.ConversationsGrant</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.ConversationsGrant.ConversationsGrant" id="apidoc.element.twilio.AccessToken.ConversationsGrant.ConversationsGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>ConversationsGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConversationsGrant(options) {
  options = options || {};
  this.configurationProfileSid = options.configurationProfileSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.ConversationsGrant.prototype" id="apidoc.module.twilio.AccessToken.ConversationsGrant.prototype">module twilio.AccessToken.ConversationsGrant.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.ConversationsGrant.prototype.toPayload" id="apidoc.element.twilio.AccessToken.ConversationsGrant.prototype.toPayload">
        function <span class="apidocSignatureSpan">twilio.AccessToken.ConversationsGrant.prototype.</span>toPayload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toPayload = function () {
  var grant = {};
  if (this.configurationProfileSid) {
    grant.configuration_profile_sid = this.configurationProfileSid;
  }
  return grant;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.IpMessagingGrant" id="apidoc.module.twilio.AccessToken.IpMessagingGrant">module twilio.AccessToken.IpMessagingGrant</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.IpMessagingGrant.IpMessagingGrant" id="apidoc.element.twilio.AccessToken.IpMessagingGrant.IpMessagingGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>IpMessagingGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IpMessagingGrant(options) {
  options = options || {};
  this.serviceSid = options.serviceSid;
  this.endpointId = options.endpointId;
  this.deploymentRoleSid = options.deploymentRoleSid;
  this.pushCredentialSid = options.pushCredentialSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.IpMessagingGrant.prototype" id="apidoc.module.twilio.AccessToken.IpMessagingGrant.prototype">module twilio.AccessToken.IpMessagingGrant.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.IpMessagingGrant.prototype.toPayload" id="apidoc.element.twilio.AccessToken.IpMessagingGrant.prototype.toPayload">
        function <span class="apidocSignatureSpan">twilio.AccessToken.IpMessagingGrant.prototype.</span>toPayload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toPayload = function () {
  var grant = {};
  if (this.serviceSid) { grant.service_sid = this.serviceSid; }
  if (this.endpointId) { grant.endpoint_id = this.endpointId; }
  if (this.deploymentRoleSid) {
    grant.deployment_role_sid = this.deploymentRoleSid;
  }
  if (this.pushCredentialSid) {
    grant.push_credential_sid = this.pushCredentialSid;
  }
  return grant;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.VideoGrant" id="apidoc.module.twilio.AccessToken.VideoGrant">module twilio.AccessToken.VideoGrant</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VideoGrant.VideoGrant" id="apidoc.element.twilio.AccessToken.VideoGrant.VideoGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VideoGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VideoGrant(options) {
  options = options || {};
  this.configurationProfileSid = options.configurationProfileSid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.VideoGrant.prototype" id="apidoc.module.twilio.AccessToken.VideoGrant.prototype">module twilio.AccessToken.VideoGrant.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VideoGrant.prototype.toPayload" id="apidoc.element.twilio.AccessToken.VideoGrant.prototype.toPayload">
        function <span class="apidocSignatureSpan">twilio.AccessToken.VideoGrant.prototype.</span>toPayload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toPayload = function () {
  var grant = {};
  if (this.configurationProfileSid) {
    grant.configuration_profile_sid = this.configurationProfileSid;
  }
  return grant;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.VoiceGrant" id="apidoc.module.twilio.AccessToken.VoiceGrant">module twilio.AccessToken.VoiceGrant</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VoiceGrant.VoiceGrant" id="apidoc.element.twilio.AccessToken.VoiceGrant.VoiceGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.</span>VoiceGrant
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VoiceGrant(options) {
  options = options || {};
  this.outgoingApplicationSid = options.outgoingApplicationSid;
  this.outgoingApplicationParams = options.outgoingApplicationParams;
  this.pushCredentialSid = options.pushCredentialSid;
  this.endpointId = options.endpointId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.VoiceGrant.prototype" id="apidoc.module.twilio.AccessToken.VoiceGrant.prototype">module twilio.AccessToken.VoiceGrant.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.VoiceGrant.prototype.toPayload" id="apidoc.element.twilio.AccessToken.VoiceGrant.prototype.toPayload">
        function <span class="apidocSignatureSpan">twilio.AccessToken.VoiceGrant.prototype.</span>toPayload
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toPayload = function () {
  var grant = {};
  if (this.outgoingApplicationSid) {
    grant.outgoing = {};
    grant.outgoing.application_sid = this.outgoingApplicationSid;

    if (this.outgoingApplicationParams) {
      grant.outgoing.params = this.outgoingApplicationParams;
    }
  }

  if (this.pushCredentialSid) {
    grant.push_credential_sid = this.pushCredentialSid;
  }
  if (this.endpointId) {
    grant.endpoint_id = this.endpointId;
  }
  return grant;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.AccessToken.prototype" id="apidoc.module.twilio.AccessToken.prototype">module twilio.AccessToken.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.AccessToken.prototype.addGrant" id="apidoc.element.twilio.AccessToken.prototype.addGrant">
        function <span class="apidocSignatureSpan">twilio.AccessToken.prototype.</span>addGrant
        <span class="apidocSignatureSpan">(grant)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addGrant = function (grant) {
  this.grants.push(grant);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.AccessToken.prototype.toJwt" id="apidoc.element.twilio.AccessToken.prototype.toJwt">
        function <span class="apidocSignatureSpan">twilio.AccessToken.prototype.</span>toJwt
        <span class="apidocSignatureSpan">(algorithm)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJwt = function (algorithm) {
  algorithm = algorithm || AccessToken.DEFAULT_ALGORITHM;
  if (!_.contains(AccessToken.ALGORITHMS, algorithm)) {
    throw new Error(&#x27;Algorithm not supported. Allowed values are &#x27; +
      AccessToken.ALGORITHMS.join(&#x27;, &#x27;));
  }

  var grants = {};
  if (_.isString(this.identity)) { grants.identity = this.identity; }

  _.each(this.grants, function(grant) {
    grants[grant.key] = grant.toPayload();
  });

  var now = Math.floor(Date.now() / 1000);
  var payload = {
    jti: this.keySid + &#x27;-&#x27; + now,
    grants: grants
  };
  if (_.isNumber(this.nbf)) { payload.nbf = this.nbf; }

  return jwt.sign(payload, this.secret, {
    headers: {
      cty: &#x27;twilio-fpa;v=1&#x27;,
      typ: &#x27;JWT&#x27;
    },
    algorithm: algorithm,
    issuer: this.keySid,
    subject: this.accountSid,
    expiresIn: this.ttl
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.Capability" id="apidoc.module.twilio.Capability">module twilio.Capability</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.Capability.Capability" id="apidoc.element.twilio.Capability.Capability">
        function <span class="apidocSignatureSpan">twilio.</span>Capability
        <span class="apidocSignatureSpan">(sid, tkn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Capability(sid, tkn) {
    if(!(this instanceof Capability)) {
      return new Capability(sid, tkn);
    }

    utils.initializeTokens(this, &#x27;Capability&#x27;, sid, tkn);
    this.capabilities = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.Capability.prototype" id="apidoc.module.twilio.Capability.prototype">module twilio.Capability.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.Capability.prototype.allowClientIncoming" id="apidoc.element.twilio.Capability.prototype.allowClientIncoming">
        function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>allowClientIncoming
        <span class="apidocSignatureSpan">(clientName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowClientIncoming = function (clientName) {
    this.clientName = clientName;
    this.capabilities.push(scopeUriFor(&#x27;client&#x27;, &#x27;incoming&#x27;, {
        clientName:clientName
    }));

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.Capability.prototype.allowClientOutgoing" id="apidoc.element.twilio.Capability.prototype.allowClientOutgoing">
        function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>allowClientOutgoing
        <span class="apidocSignatureSpan">(appSid, params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowClientOutgoing = function (appSid, params) {
    this.outgoingScopeParams = {
        appSid:appSid
    };

    if (params) {
        this.outgoingScopeParams.appParams = qs.stringify(params);
    }

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.Capability.prototype.allowEventStream" id="apidoc.element.twilio.Capability.prototype.allowEventStream">
        function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>allowEventStream
        <span class="apidocSignatureSpan">(filters)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowEventStream = function (filters) {
    var scopeParams = {
        path:&#x27;/2010-04-01/Events&#x27;
    };

    if (filters) {
        scopeParams.params = filters;
    }

    this.capabilities.push(scopeUriFor(&#x27;stream&#x27;, &#x27;subscribe&#x27;, scopeParams));
    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.Capability.prototype.generate" id="apidoc.element.twilio.Capability.prototype.generate">
        function <span class="apidocSignatureSpan">twilio.Capability.prototype.</span>generate
        <span class="apidocSignatureSpan">(timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (timeout) {
    var capabilities = this.capabilities.slice(0),
        expires = timeout||3600;

    //Build outgoing scope params lazily to use clientName (if it exists)
    if (this.outgoingScopeParams) {
        if (this.clientName) {
            this.outgoingScopeParams.clientName = this.clientName;
        }
        capabilities.push(scopeUriFor(&#x27;client&#x27;, &#x27;outgoing&#x27;, this.outgoingScopeParams));
    }

    var payload = {
        scope: capabilities.join(&#x27; &#x27;),
        iss: this.accountSid,
        exp: Math.floor(new Date() / 1000) + expires
    };

    return jwt.sign(payload, this.authToken);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.IpMessagingClient" id="apidoc.module.twilio.IpMessagingClient">module twilio.IpMessagingClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient.IpMessagingClient" id="apidoc.element.twilio.IpMessagingClient.IpMessagingClient">
        function <span class="apidocSignatureSpan">twilio.</span>IpMessagingClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function IpMessagingClient(sid, tkn, options) {
    options = options || {};
    IpMessagingClient.super_.call(
        this, sid, tkn,
        options.host || &#x27;ip-messaging.twilio.com&#x27;,
        options.apiVersion || &#x27;v1&#x27;,
        options.timeout
    );

    var servicesResource = require(&#x27;./resources/ip_messaging/Services&#x27;)(this);
    this.services = servicesResource;

    var credentialsResource = require(&#x27;./resources/ip_messaging/Credentials&#x27;)(this);
    this.credentials = credentialsResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient.super_" id="apidoc.element.twilio.IpMessagingClient.super_">
        function <span class="apidocSignatureSpan">twilio.IpMessagingClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.IpMessagingClient.super_" id="apidoc.module.twilio.IpMessagingClient.super_">module twilio.IpMessagingClient.super_</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient.super_.super_" id="apidoc.element.twilio.IpMessagingClient.super_.super_">
        function <span class="apidocSignatureSpan">twilio.IpMessagingClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.IpMessagingClient.super_.prototype" id="apidoc.module.twilio.IpMessagingClient.super_.prototype">module twilio.IpMessagingClient.super_.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient.super_.prototype.getBaseUrl" id="apidoc.element.twilio.IpMessagingClient.super_.prototype.getBaseUrl">
        function <span class="apidocSignatureSpan">twilio.IpMessagingClient.super_.prototype.</span>getBaseUrl
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBaseUrl = function () {
    return &#x27;https://&#x27; + this.accountSid + &#x27;:&#x27; + this.authToken + &#x27;@&#x27; + this.host + &#x27;/&#x27; + this.apiVersion;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.IpMessagingClient.super_.prototype.request" id="apidoc.element.twilio.IpMessagingClient.super_.prototype.request">
        function <span class="apidocSignatureSpan">twilio.IpMessagingClient.super_.prototype.</span>request
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (options, callback) {
    var client = this;
    var deferred = Q.defer();

    //Prepare request options
    // Add base URL if we weren&#x27;t given an absolute one
    if (!options.url.indexOf(&#x27;http&#x27;) !== 0) {
        options.url = client.getBaseUrl() + options.url;
    }
    options.headers = {
        &#x27;Accept&#x27;:&#x27;application/json&#x27;,
        &#x27;Accept-Charset&#x27;: &#x27;utf-8&#x27;,
        &#x27;User-Agent&#x27;:&#x27;twilio-node/&#x27; + moduleinfo.version
    };
    options.timeout = client.timeout;

    // Manually create POST body if there&#x27;s a form object. Sadly, request
    // turns multiple key parameters into array-ified queries, like this:
    // MediaUrl[0]=foo&#x26;MediaUrl[1]=bar. Node querystring does the right thing so
    // we use that here. Also see https://github.com/mikeal/request/issues/644
    if (options.form) {
        options.body = querystring.stringify(options.form).toString(&#x27;utf-8&#x27;);
        options.headers[&#x27;Content-Type&#x27;] = &#x27;application/x-www-form-urlencoded; charset=utf-8&#x27;;
        options.form = null;
    }

    //Initiate HTTP request
    request(options, function (err, response, body) {
        var data;
        try {
            if (err) {
                data = err;
            } else {
                data = body ? JSON.parse(body) : null;
            }
        } catch (e) {
            data = { status: 500, message: (e.message || &#x27;Invalid JSON body&#x27;) };
        }

        //request doesn&#x27;t think 4xx is an error - we want an error for any non-2xx status codes
        var error = null;
        if (err || (response &#x26;&#x26; (response.statusCode &#x3c; 200 || response.statusCode &#x3e; 206))) {
            error = {};
            // response is null if server is unreachable
            if (response) {
                error.status = response.statusCode;
                error.message = data ? data.message : &#x27;Unable to complete HTTP request&#x27;;
                error.code = data &#x26;&#x26; data.code;
                error.moreInfo = data &#x26;&#x26; data.more_info;
            } else {
                error.status = err.code;
                error.message = &#x27;Unable to reach host: &#x22;&#x27;+client.host+&#x27;&#x22;&#x27;;
            }
        }

        // JavaScriptify properties of response if it exists
        data &#x26;&#x26; processKeys(data);

        //hang response off the JSON-serialized data, as unenumerable to allow for stringify.
        data &#x26;&#x26; Object.defineProperty(data, &#x27;nodeClientResponse&#x27;, {
            value: response,
            configurable: true,
            writeable: true,
            enumerable: false
        });

        // Resolve promise
        if (error) {
            deferred.reject(error);
        } else {
            deferred.resolve(data);
        }

    });

    // Return promise, but also support original node callback style
    return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (args.twilioParams &#x26;&#x26; method === &#x27;GET&#x27;) {
        requestArgs.qs = args.twilioParams;
    } else if (args.twilioParams) {
        requestArgs.form = args.twilioParams;
    }

    //make request
    return client.<span class="apidocCodeKeywordSpan">request</span>(requestArgs, args.callback);
};
};

//generate several rest functions on a given object
generate.restFunctions = function (object, client, methods, resource) {
for (var i = 0, l = methods.length; i &#x3c; l; i++) {
    var method = methods[i];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.LookupsClient" id="apidoc.module.twilio.LookupsClient">module twilio.LookupsClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.LookupsClient.LookupsClient" id="apidoc.element.twilio.LookupsClient.LookupsClient">
        function <span class="apidocSignatureSpan">twilio.</span>LookupsClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LookupsClient(sid, tkn, options) {
    //Required client config
    options = options || {};
    LookupsClient.super_.call(this, sid, tkn, options.host || &#x27;lookups.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout);

    var phoneNumbersResource = require(&#x27;./resources/lookups/PhoneNumbers&#x27;)(this);
    this.phoneNumbers = phoneNumbersResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.LookupsClient.super_" id="apidoc.element.twilio.LookupsClient.super_">
        function <span class="apidocSignatureSpan">twilio.LookupsClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.MonitorClient" id="apidoc.module.twilio.MonitorClient">module twilio.MonitorClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.MonitorClient.MonitorClient" id="apidoc.element.twilio.MonitorClient.MonitorClient">
        function <span class="apidocSignatureSpan">twilio.</span>MonitorClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MonitorClient(sid, tkn, options) {
    //Required client config
    options = options || {};
    MonitorClient.super_.call(this, sid, tkn, options.host || &#x27;monitor.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout);

    //REST Resource - shorthand for just &#x22;event&#x22; and &#x22;events&#x22; to match the REST API
    var eventResource = require(&#x27;./resources/monitor/Events&#x27;)(this);
    this.events = eventResource;
    var alertResource = require(&#x27;./resources/monitor/Alerts&#x27;)(this);
    this.alerts = alertResource;

    //mix the account object in with the client object - assume master account for resources
    _.extend(this, eventResource);
    _.extend(this, alertResource);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.MonitorClient.super_" id="apidoc.element.twilio.MonitorClient.super_">
        function <span class="apidocSignatureSpan">twilio.MonitorClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.PricingClient" id="apidoc.module.twilio.PricingClient">module twilio.PricingClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.PricingClient.PricingClient" id="apidoc.element.twilio.PricingClient.PricingClient">
        function <span class="apidocSignatureSpan">twilio.</span>PricingClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PricingClient(sid, tkn, options) {
    options = options || {};
    PricingClient.super_.call(this, sid, tkn, options.host || &#x27;pricing.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout);

    var voiceResource = require(&#x27;./resources/pricing/Voice&#x27;)(this);
    this.voice = voiceResource;

    var phoneNumbersResource = require(&#x27;./resources/pricing/PhoneNumbers&#x27;)(this);
    this.phoneNumbers = phoneNumbersResource;

    var messagingResource = require(&#x27;./resources/pricing/Messaging&#x27;)(this);
    this.messaging = messagingResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.PricingClient.super_" id="apidoc.element.twilio.PricingClient.super_">
        function <span class="apidocSignatureSpan">twilio.PricingClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.RestClient" id="apidoc.module.twilio.RestClient">module twilio.RestClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.RestClient.RestClient" id="apidoc.element.twilio.RestClient.RestClient">
        function <span class="apidocSignatureSpan">twilio.</span>RestClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RestClient(sid, tkn, options) {
    options = options || {};
    RestClient.super_.call(this, sid, tkn, options.host, options.apiVersion, options.timeout);

    //REST Resource - shorthand for just &#x22;account&#x22; and &#x22;accounts&#x22; to match the REST API
    var accountResource = require(&#x27;./resources/Accounts&#x27;)(this);
    this.accounts = accountResource;

    //mix the account object in with the client object - assume master account for resources
    _.extend(this,accountResource);

    //Messaging shorthand
    this.sendSms = this.accounts.sms.messages.post;
    this.sendMms = this.accounts.messages.post;
    this.sendMessage = this.accounts.messages.post;
    this.listSms = this.accounts.sms.messages.get;
    this.listMessages = this.accounts.messages.get;
    this.getSms = function(messageSid, callback) {
        this.accounts.sms.messages(messageSid).get(callback);
    };
    this.getMessage = function(messageSid, callback) {
        this.accounts.messages(messageSid).get(callback);
    };


    //Calls shorthand
    this.makeCall = this.accounts.calls.post;
    this.listCalls = this.accounts.calls.get;
    this.getCall = function(callSid, callback) {
        this.accounts.calls(callSid).get(callback);
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.RestClient.super_" id="apidoc.element.twilio.RestClient.super_">
        function <span class="apidocSignatureSpan">twilio.RestClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.RestClient.prototype" id="apidoc.module.twilio.RestClient.prototype">module twilio.RestClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.RestClient.prototype.request" id="apidoc.element.twilio.RestClient.prototype.request">
        function <span class="apidocSignatureSpan">twilio.RestClient.prototype.</span>request
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (options, callback) {
    var client = this;

    // Force .json for Coke Classic API
    options.url = options.url + &#x27;.json&#x27;;
    return RestClient.super_.prototype.request.call(this, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (args.twilioParams &#x26;&#x26; method === &#x27;GET&#x27;) {
        requestArgs.qs = args.twilioParams;
    } else if (args.twilioParams) {
        requestArgs.form = args.twilioParams;
    }

    //make request
    return client.<span class="apidocCodeKeywordSpan">request</span>(requestArgs, args.callback);
};
};

//generate several rest functions on a given object
generate.restFunctions = function (object, client, methods, resource) {
for (var i = 0, l = methods.length; i &#x3c; l; i++) {
    var method = methods[i];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterCapability" id="apidoc.module.twilio.TaskRouterCapability">module twilio.TaskRouterCapability</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.TaskRouterCapability" id="apidoc.element.twilio.TaskRouterCapability.TaskRouterCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterCapability(accountSid, authToken, workspaceSid, channelId) {
    this.accountSid = accountSid;
    this.authToken = authToken;
    this.policies = [];

    this.workspaceSid = workspaceSid;
    this.channelId = channelId;

    this._baseUrl = taskRouterUrlBase + &#x27;/&#x27; + taskRouterVersion + &#x27;/Workspaces/&#x27; + this.workspaceSid;

    this._validateJWT();

    this._setupResource();

    var eventsUrl = eventUrlBase + &#x27;/&#x27; + this.accountSid + &#x27;/&#x27; + channelId;

    // add permissions to GET and POST to the event-bridge channel
    this.allow(eventsUrl, &#x27;GET&#x27;);
    this.allow(eventsUrl, &#x27;POST&#x27;);

    // add permission to fetch the instance resource
    this.allow(this._resourceUrl, &#x27;GET&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterCapability.prototype" id="apidoc.module.twilio.TaskRouterCapability.prototype">module twilio.TaskRouterCapability.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype._generate" id="apidoc.element.twilio.TaskRouterCapability.prototype._generate">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>_generate
        <span class="apidocSignatureSpan">(ttl, extraAttributes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_generate = function (ttl, extraAttributes) {
    var payload = {
        iss: this.accountSid,
        exp: (Math.floor(new Date() / 1000) + (ttl || 3600)),
        version: taskRouterVersion,
        friendly_name: this.channelId,
        policies: this.policies,
    };
    _.extend(payload, extraAttributes);
    return jwt.sign(payload, this.authToken);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype._setupResource" id="apidoc.element.twilio.TaskRouterCapability.prototype._setupResource">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>_setupResource
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setupResource = function () {
    if(this.channelId.startsWith(&#x27;WS&#x27;)) {
        this._resourceUrl = this._baseUrl;
    }else if(this.channelId.startsWith(&#x27;WK&#x27;)) {
        this._resourceUrl = this._baseUrl + &#x27;/Workers/&#x27; + this.channelId;

        var activityUrl = this._baseUrl + &#x27;/Activities&#x27;;
        this.allow(activityUrl, &#x22;GET&#x22;);

        var tasksUrl = this._baseUrl + &#x27;/Tasks/**&#x27;;
        this.allow(tasksUrl, &#x22;GET&#x22;);

        var workerReservationsUrl = this._resourceUrl + &#x27;/Reservations/**&#x27;;
        this.allow(workerReservationsUrl, &#x22;GET&#x22;);

    }else if(this.channelId.startsWith(&#x27;WQ&#x27;)) {
        this._resourceUrl = this._baseUrl + &#x27;/TaskQueues/&#x27; + this.channelId;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype._validateJWT" id="apidoc.element.twilio.TaskRouterCapability.prototype._validateJWT">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>_validateJWT
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_validateJWT = function () {
    if(!this.accountSid || !this.accountSid.startsWith(&#x27;AC&#x27;)) {
        throw &#x22;Invalid AccountSid provided: &#x22;+this.accountSid;
    }
    if(!this.workspaceSid || !this.workspaceSid.startsWith(&#x27;WS&#x27;)) {
        throw &#x22;Invalid WorkspaceSid provided: &#x22;+this.workspaceSid;
    }
    if(!this.channelId) {
        throw &#x22;ChannelId not provided&#x22;;
    }
    var prefix = this.channelId.substring(0,2);
    if(prefix != &#x27;WS&#x27; &#x26;&#x26; prefix != &#x27;WK&#x27; &#x26;&#x26; prefix != &#x27;WQ&#x27;) {
        throw &#x22;Invalid ChannelId provided: &#x22;+this.channelId;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.addPolicy" id="apidoc.element.twilio.TaskRouterCapability.prototype.addPolicy">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>addPolicy
        <span class="apidocSignatureSpan">(url, method, allowed, queryFilter, postFilter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addPolicy = function (url, method, allowed, queryFilter, postFilter) {
    var policy = {
        url: url,
        method: method
    };

    if (queryFilter) {
        policy.query_filter = queryFilter;
    } else {
        policy.query_filter = {};
    }

    if (postFilter) {
        policy.post_filter = postFilter;
    } else {
        policy.post_filter = {};
    }

    if (typeof allowed !== &#x27;undefined&#x27;) {
        policy.allow = allowed;
    } else {
        policy.allow = true;
    }
    this.policies.push(policy);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allow" id="apidoc.element.twilio.TaskRouterCapability.prototype.allow">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allow
        <span class="apidocSignatureSpan">(url, method, queryFilter, postFilter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allow = function (url, method, queryFilter, postFilter) {
    this.addPolicy(url, method, true, queryFilter, postFilter);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowDelete" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowDelete">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowDelete
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowDelete = function () {
    this.allow(this._resourceUrl, &#x27;DELETE&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowDeleteSubresources" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowDeleteSubresources">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowDeleteSubresources
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowDeleteSubresources = function () {
    this.allow(this._resourceUrl+&#x27;/**&#x27;, &#x27;DELETE&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowFetchSubresources" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowFetchSubresources">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowFetchSubresources
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowFetchSubresources = function () {
    this.allow(this._resourceUrl+&#x27;/**&#x27;, &#x27;GET&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowTaskReservationUpdates" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowTaskReservationUpdates">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowTaskReservationUpdates
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowTaskReservationUpdates = function () {
    if(this.channelId.startsWith(&#x27;WK&#x27;)) {
        deprecate(&#x27;allowTaskReservationUpdates is deprecated. Please use TaskRouterWorkerCapability.allowReservationUpdates() instead
&#x27;);
        this.allow(this._baseUrl + &#x22;/Tasks/**&#x22;, &#x22;POST&#x22;);
    }else {
        throw &#x22;Deprecated function not applicable to non Worker&#x22;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowUpdates" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowUpdates">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowUpdates
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowUpdates = function () {
    this.allow(this._resourceUrl, &#x27;POST&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowUpdatesSubresources" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowUpdatesSubresources">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowUpdatesSubresources
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowUpdatesSubresources = function () {
    this.allow(this._resourceUrl+&#x27;/**&#x27;, &#x27;POST&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowWorkerActivityUpdates" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowWorkerActivityUpdates">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowWorkerActivityUpdates
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowWorkerActivityUpdates = function () {
    if(this.channelId.startsWith(&#x27;WK&#x27;)) {
        deprecate(&#x27;allowWorkerActivityUpdates is deprecated. Please use TaskRouterWorkerCapability.allowWorkerActivityUpdates()
instead&#x27;);
        this.allow(this._resourceUrl, &#x27;POST&#x27;, {}, {&#x22;ActivitySid&#x22;: {&#x27;required&#x27;: true}});
    }else {
        throw &#x22;Deprecated function not applicable to non Worker&#x22;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.allowWorkerFetchAttributes" id="apidoc.element.twilio.TaskRouterCapability.prototype.allowWorkerFetchAttributes">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>allowWorkerFetchAttributes
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowWorkerFetchAttributes = function () {
    if(this.channelId.startsWith(&#x27;WK&#x27;)) {
        deprecate(&#x27;allowWorkerFetchAttributes is deprecated. Please use TaskRouterWorkerCapability; added automatically in constructor
&#x27;);
        this.allow(this._resourceUrl, &#x27;GET&#x27;);
    }else {
        throw &#x22;Deprecated function not applicable to non Worker&#x22;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.deny" id="apidoc.element.twilio.TaskRouterCapability.prototype.deny">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>deny
        <span class="apidocSignatureSpan">(url, method, queryFilter, postFilter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deny = function (url, method, queryFilter, postFilter) {
    this.addPolicy(url, method, false, queryFilter, postFilter);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterCapability.prototype.generate" id="apidoc.element.twilio.TaskRouterCapability.prototype.generate">
        function <span class="apidocSignatureSpan">twilio.TaskRouterCapability.prototype.</span>generate
        <span class="apidocSignatureSpan">(ttl)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (ttl) {
    var taskRouterAttributes = {
        &#x27;account_sid&#x27;: this.accountSid,
        &#x27;channel&#x27;: this.channelId,
        &#x27;workspace_sid&#x27;: this.workspaceSid
    }

    if(this.channelId.startsWith(&#x27;WK&#x27;)) {
        taskRouterAttributes.worker_sid = this.channelId;
    }else if(this.channelId.startsWith(&#x27;WQ&#x27;)) {
        taskRouterAttributes.taskqueue_sid = this.channelId;
    }

    return this._generate(ttl, taskRouterAttributes);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterClient" id="apidoc.module.twilio.TaskRouterClient">module twilio.TaskRouterClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterClient.TaskRouterClient" id="apidoc.element.twilio.TaskRouterClient.TaskRouterClient">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterClient
        <span class="apidocSignatureSpan">(sid, tkn, workspaceSid, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterClient(sid, tkn, workspaceSid, options) {
    //Required client config
    if (!workspaceSid) {
        if (process.env.TWILIO_WORKSPACE_SID) {
            this.workspaceSid = process.env.TWILIO_WORKSPACE_SID;
        }
        else {
            throw &#x27;Client requires a Workspace SID set explicitly or via the TWILIO_WORKSPACE_SID environment variables&#x27;;
        }
    }
    else {
        //trim spaces
        this.workspaceSid = workspaceSid.replace(/ /g, &#x27;&#x27;);
    }
    options = options || {};
    TaskRouterClient.super_.call(this, sid, tkn, options.host || &#x27;taskrouter.twilio.com&#x27;, options.apiVersion || &#x27;v1&#x27;, options.timeout
);

    //REST Resource - shorthand for just &#x22;workspace&#x22; and &#x22;workspaces&#x22; to match the REST API
    var workspaceResource = require(&#x27;./resources/task_router/Workspaces&#x27;)(this);
    this.workspaces = workspaceResource;
    this.workspace = workspaceResource(this.workspaceSid);

    //mix the account object in with the client object - assume master account for resources
    _.extend(this, workspaceResource);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterClient.super_" id="apidoc.element.twilio.TaskRouterClient.super_">
        function <span class="apidocSignatureSpan">twilio.TaskRouterClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterTaskQueueCapability" id="apidoc.module.twilio.TaskRouterTaskQueueCapability">module twilio.TaskRouterTaskQueueCapability</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterTaskQueueCapability.TaskRouterTaskQueueCapability" id="apidoc.element.twilio.TaskRouterTaskQueueCapability.TaskRouterTaskQueueCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterTaskQueueCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, taskQueueSid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterTaskQueueCapability(accountSid, authToken, workspaceSid, taskQueueSid) {
    TaskRouterCapability.call(this, accountSid, authToken, workspaceSid, taskQueueSid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterTaskQueueCapability.super_" id="apidoc.element.twilio.TaskRouterTaskQueueCapability.super_">
        function <span class="apidocSignatureSpan">twilio.TaskRouterTaskQueueCapability.</span>super_
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterCapability(accountSid, authToken, workspaceSid, channelId) {
    this.accountSid = accountSid;
    this.authToken = authToken;
    this.policies = [];

    this.workspaceSid = workspaceSid;
    this.channelId = channelId;

    this._baseUrl = taskRouterUrlBase + &#x27;/&#x27; + taskRouterVersion + &#x27;/Workspaces/&#x27; + this.workspaceSid;

    this._validateJWT();

    this._setupResource();

    var eventsUrl = eventUrlBase + &#x27;/&#x27; + this.accountSid + &#x27;/&#x27; + channelId;

    // add permissions to GET and POST to the event-bridge channel
    this.allow(eventsUrl, &#x27;GET&#x27;);
    this.allow(eventsUrl, &#x27;POST&#x27;);

    // add permission to fetch the instance resource
    this.allow(this._resourceUrl, &#x27;GET&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterTaskQueueCapability.prototype" id="apidoc.module.twilio.TaskRouterTaskQueueCapability.prototype">module twilio.TaskRouterTaskQueueCapability.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterTaskQueueCapability.prototype._setupResource" id="apidoc.element.twilio.TaskRouterTaskQueueCapability.prototype._setupResource">
        function <span class="apidocSignatureSpan">twilio.TaskRouterTaskQueueCapability.prototype.</span>_setupResource
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setupResource = function () {
    this._resourceUrl = this._baseUrl + &#x27;/TaskQueues/&#x27; + this.channelId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterWorkerCapability" id="apidoc.module.twilio.TaskRouterWorkerCapability">module twilio.TaskRouterWorkerCapability</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkerCapability.TaskRouterWorkerCapability" id="apidoc.element.twilio.TaskRouterWorkerCapability.TaskRouterWorkerCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkerCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, workerSid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterWorkerCapability(accountSid, authToken, workspaceSid, workerSid) {
    TaskRouterCapability.call(this, accountSid, authToken, workspaceSid, workerSid);

    this.reservationsUrl = this._baseUrl + &#x22;/Tasks/**&#x22;;
    this.activityUrl = this._baseUrl + &#x22;/Activities&#x22;;
    this.workerReservationsUrl = this._resourceUrl + &#x22;/Reservations/**&#x22;;

    // add permissions fo fetch the list of activities, tasks and worker reservations
    this.allow(this.activityUrl, &#x22;GET&#x22;);
    this.allow(this.reservationsUrl, &#x22;GET&#x22;);
    this.allow(this.workerReservationsUrl, &#x22;GET&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkerCapability.super_" id="apidoc.element.twilio.TaskRouterWorkerCapability.super_">
        function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.</span>super_
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterCapability(accountSid, authToken, workspaceSid, channelId) {
    this.accountSid = accountSid;
    this.authToken = authToken;
    this.policies = [];

    this.workspaceSid = workspaceSid;
    this.channelId = channelId;

    this._baseUrl = taskRouterUrlBase + &#x27;/&#x27; + taskRouterVersion + &#x27;/Workspaces/&#x27; + this.workspaceSid;

    this._validateJWT();

    this._setupResource();

    var eventsUrl = eventUrlBase + &#x27;/&#x27; + this.accountSid + &#x27;/&#x27; + channelId;

    // add permissions to GET and POST to the event-bridge channel
    this.allow(eventsUrl, &#x27;GET&#x27;);
    this.allow(eventsUrl, &#x27;POST&#x27;);

    // add permission to fetch the instance resource
    this.allow(this._resourceUrl, &#x27;GET&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterWorkerCapability.prototype" id="apidoc.module.twilio.TaskRouterWorkerCapability.prototype">module twilio.TaskRouterWorkerCapability.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkerCapability.prototype._setupResource" id="apidoc.element.twilio.TaskRouterWorkerCapability.prototype._setupResource">
        function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.prototype.</span>_setupResource
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setupResource = function () {
    this._resourceUrl = this._baseUrl + &#x27;/Workers/&#x27; + this.channelId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkerCapability.prototype.allowActivityUpdates" id="apidoc.element.twilio.TaskRouterWorkerCapability.prototype.allowActivityUpdates">
        function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.prototype.</span>allowActivityUpdates
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowActivityUpdates = function () {
    this.allow(
        this._resourceUrl,
        &#x22;POST&#x22;,
        {},
        {&#x22;ActivitySid&#x22;: {&#x27;required&#x27;: true}});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkerCapability.prototype.allowReservationUpdates" id="apidoc.element.twilio.TaskRouterWorkerCapability.prototype.allowReservationUpdates">
        function <span class="apidocSignatureSpan">twilio.TaskRouterWorkerCapability.prototype.</span>allowReservationUpdates
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">allowReservationUpdates = function () {
    this.allow(
        this.reservationsUrl,
        &#x22;POST&#x22;,
        {},
        {});
    this.allow(
        this.workerReservationsUrl,
        &#x22;POST&#x22;,
        {},
        {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterWorkspaceCapability" id="apidoc.module.twilio.TaskRouterWorkspaceCapability">module twilio.TaskRouterWorkspaceCapability</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkspaceCapability.TaskRouterWorkspaceCapability" id="apidoc.element.twilio.TaskRouterWorkspaceCapability.TaskRouterWorkspaceCapability">
        function <span class="apidocSignatureSpan">twilio.</span>TaskRouterWorkspaceCapability
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterWorkspaceCapability(accountSid, authToken, workspaceSid) {
    TaskRouterCapability.call(this, accountSid, authToken, workspaceSid, workspaceSid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkspaceCapability.super_" id="apidoc.element.twilio.TaskRouterWorkspaceCapability.super_">
        function <span class="apidocSignatureSpan">twilio.TaskRouterWorkspaceCapability.</span>super_
        <span class="apidocSignatureSpan">(accountSid, authToken, workspaceSid, channelId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TaskRouterCapability(accountSid, authToken, workspaceSid, channelId) {
    this.accountSid = accountSid;
    this.authToken = authToken;
    this.policies = [];

    this.workspaceSid = workspaceSid;
    this.channelId = channelId;

    this._baseUrl = taskRouterUrlBase + &#x27;/&#x27; + taskRouterVersion + &#x27;/Workspaces/&#x27; + this.workspaceSid;

    this._validateJWT();

    this._setupResource();

    var eventsUrl = eventUrlBase + &#x27;/&#x27; + this.accountSid + &#x27;/&#x27; + channelId;

    // add permissions to GET and POST to the event-bridge channel
    this.allow(eventsUrl, &#x27;GET&#x27;);
    this.allow(eventsUrl, &#x27;POST&#x27;);

    // add permission to fetch the instance resource
    this.allow(this._resourceUrl, &#x27;GET&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TaskRouterWorkspaceCapability.prototype" id="apidoc.module.twilio.TaskRouterWorkspaceCapability.prototype">module twilio.TaskRouterWorkspaceCapability.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TaskRouterWorkspaceCapability.prototype._setupResource" id="apidoc.element.twilio.TaskRouterWorkspaceCapability.prototype._setupResource">
        function <span class="apidocSignatureSpan">twilio.TaskRouterWorkspaceCapability.prototype.</span>_setupResource
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setupResource = function () {
    this._resourceUrl = this._baseUrl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.TrunkingClient" id="apidoc.module.twilio.TrunkingClient">module twilio.TrunkingClient</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.TrunkingClient.TrunkingClient" id="apidoc.element.twilio.TrunkingClient.TrunkingClient">
        function <span class="apidocSignatureSpan">twilio.</span>TrunkingClient
        <span class="apidocSignatureSpan">(sid, tkn, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TrunkingClient(sid, tkn, options) {
    options = options || {};
    TrunkingClient.super_.call(
        this, sid, tkn,
        options.host || &#x27;trunking.twilio.com&#x27;,
        options.apiVersion || &#x27;v1&#x27;,
        options.timeout
    );

    var trunkResource = require(&#x27;./resources/trunking/Trunks&#x27;)(this);
    this.trunks = trunkResource;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.TrunkingClient.super_" id="apidoc.element.twilio.TrunkingClient.super_">
        function <span class="apidocSignatureSpan">twilio.TrunkingClient.</span>super_
        <span class="apidocSignatureSpan">(sid, tkn, host, api_version, timeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(sid, tkn, host, api_version, timeout) {
    //Required client config
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            this.accountSid = process.env.TWILIO_ACCOUNT_SID;
            this.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw &#x27;Client requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        this.accountSid = sid.replace(/ /g, &#x27;&#x27;);
        this.authToken = tkn.replace(/ /g, &#x27;&#x27;);
    }

    //Optional client config
    this.host = host || defaultHost;
    this.apiVersion = api_version || defaultApiVersion;
    this.timeout = timeout || 31000; // request timeout in milliseconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.generate" id="apidoc.module.twilio.generate">module twilio.generate</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.generate.generate" id="apidoc.element.twilio.generate.generate">
        function <span class="apidocSignatureSpan">twilio.</span>generate
        <span class="apidocSignatureSpan">(client, method, url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function (client, method, url) {
    return function () {
        var args = process(arguments),
            requestArgs = {
                url:url,
                method:method
            };

        //Send parameters, if supplied
        if (args.twilioParams &#x26;&#x26; method === &#x27;GET&#x27;) {
            requestArgs.qs = args.twilioParams;
        } else if (args.twilioParams) {
            requestArgs.form = args.twilioParams;
        }

        //make request
        return client.request(requestArgs, args.callback);
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.generate.restFunctions" id="apidoc.element.twilio.generate.restFunctions">
        function <span class="apidocSignatureSpan">twilio.generate.</span>restFunctions
        <span class="apidocSignatureSpan">(object, client, methods, resource)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restFunctions = function (object, client, methods, resource) {
    for (var i = 0, l = methods.length; i &#x3c; l; i++) {
        var method = methods[i];

        //can be either a string indicating an HTTP method to generate,
        //or an object mapping a function name to an HTTP verb
        if (typeof method === &#x27;string&#x27;) {
            if (method === &#x27;GET&#x27;) {
                object.get = object.list = generate(client, method, resource);
            } else if (method === &#x27;POST&#x27;) {
                object.post = generate(client, method, resource);
            } else if (method === &#x27;PUT&#x27;) {
                object.put = generate(client, method, resource);
            } else if (method === &#x27;DELETE&#x27;) {
                object.delete = generate(client, method, resource);
            }
        }
        else {
            //Create an alias for the given method name to a REST function
            for (var key in method) {
            	// fixed issue for null Properties.
                if(method.hasOwnProperty(key))
                    object[key] = object[method[key].toLowerCase()];
            }
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
     @param {string} accountSid - The specific account for which to scope requests
     */
    function Accounts(accountSid) {
//This is the resource for accounts aside from the default master account
var resourceApi = {};

//generate REST function calls for the appropriate resource
generate.<span class="apidocCodeKeywordSpan">restFunctions</span>(resourceApi, client, [&#x27;GET&#x27;, &#x27;PUT&#x27;, &#x27;
POST&#x27;], &#x27;/Accounts/&#x27; + accountSid);
resourceApi.update = resourceApi.post;
resourceApi.list = resourceApi.get;

//Mix in sub resources
mixinResources(resourceApi, accountSid);

//Return resource API, plus sub-resources
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.utils" id="apidoc.module.twilio.utils">module twilio.utils</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.utils.initializeTokens" id="apidoc.element.twilio.utils.initializeTokens">
        function <span class="apidocSignatureSpan">twilio.utils.</span>initializeTokens
        <span class="apidocSignatureSpan">(obj, type, sid, tkn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initializeTokens = function (obj, type, sid, tkn){
    // Initialize from environment variables, if present
    if (!sid || !tkn) {
        if (process.env.TWILIO_ACCOUNT_SID &#x26;&#x26; process.env.TWILIO_AUTH_TOKEN) {
            obj.accountSid = process.env.TWILIO_ACCOUNT_SID;
            obj.authToken = process.env.TWILIO_AUTH_TOKEN;
        }
        else {
            throw type + &#x27; requires an Account SID and Auth Token set explicitly &#x27; +
                &#x27;or via the TWILIO_ACCOUNT_SID and TWILIO_AUTH_TOKEN environment variables&#x27;;
        }
    }
    else {
        //if auth token/SID passed in manually, trim spaces
        obj.accountSid = sid.trim();
        obj.authToken = tkn.trim();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.twilio.webhooks" id="apidoc.module.twilio.webhooks">module twilio.webhooks</a></h1>


    <h2>
        <a href="#apidoc.element.twilio.webhooks.validateExpressRequest" id="apidoc.element.twilio.webhooks.validateExpressRequest">
        function <span class="apidocSignatureSpan">twilio.webhooks.</span>validateExpressRequest
        <span class="apidocSignatureSpan">(request, authToken, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateExpressRequest = function (request, authToken, opts) {
    var options = opts||{}, webhookUrl;
    if (options.url) {
        // Let the user specify the full URL
        webhookUrl = options.url;
    } else {
        // Use configured host/protocol, or infer based on request
        var protocol = options.protocol||request.protocol;
        var host = options.host||request.headers.host;
        webhookUrl = url.format({
            protocol: protocol,
            host: host,
            pathname: request.originalUrl
        });
    }

    return exports.validateRequest(
        authToken,
        request.header(&#x27;X-Twilio-Signature&#x27;),
        webhookUrl,
        request.body||{}
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    console.error(&#x27;[Twilio]: Error - Twilio auth token is required for webhook request validation.&#x27;);
    response
        .type(&#x27;text/plain&#x27;)
        .status(500)
        .send(&#x27;Webhook Error - we attempted to validate this request without first configuring our auth token.&#x27;);
} else {
    // Check that the request originated from Twilio
    valid = exports.<span class="apidocCodeKeywordSpan">validateExpressRequest</span>(request, opts.authToken, {
        url: opts.url,
        host: opts.host,
        protocol: opts.protocol
    });
    if (valid) {
        next();
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.webhooks.validateRequest" id="apidoc.element.twilio.webhooks.validateRequest">
        function <span class="apidocSignatureSpan">twilio.webhooks.</span>validateRequest
        <span class="apidocSignatureSpan">(authToken, twilioHeader, url, params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateRequest = function (authToken, twilioHeader, url, params) {
    Object.keys(params).sort().forEach(function(key, i) {
        url = url + key + params[key];
    });

    return scmp(twilioHeader, crypto.createHmac(&#x27;sha1&#x27;, authToken).update(new Buffer(url, &#x27;utf-8&#x27;)).digest(&#x27;Base64&#x27;));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        webhookUrl = url.format({
            protocol: protocol,
            host: host,
            pathname: request.originalUrl
        });
    }

    return exports.<span class="apidocCodeKeywordSpan">validateRequest</span>(
        authToken,
        request.header(&#x27;X-Twilio-Signature&#x27;),
        webhookUrl,
        request.body||{}
    );
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.twilio.webhooks.webhook" id="apidoc.element.twilio.webhooks.webhook">
        function <span class="apidocSignatureSpan">twilio.webhooks.</span>webhook
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">webhook = function () {
    var opts = {
        validate:true,
        includeHelpers:true
    };

    // Process arguments
    var tokenString;
    for (var i = 0, l = arguments.length; i&#x3c;l; i++) {
        var arg = arguments[i];
        if (typeof arg === &#x27;string&#x27;) {
            tokenString = arg;
        } else {
            opts = _.extend(opts, arg);
        }
    }

    // set auth token from input or environment variable
    opts.authToken = tokenString ? tokenString : process.env.TWILIO_AUTH_TOKEN;

    // Create middleware function
    return function hook(request, response, next) {
        // Add helpers, unless disabled
        if (opts.includeHelpers) {
            var oldSend = response.send;
            response.send = function() {
                // This is a special TwiML-aware version of send.  If we detect
                // A twiml response object, we&#x27;ll set the content-type and
                // automatically call .toString()
                if (arguments.length == 1 &#x26;&#x26; arguments[0].legalNodes) {
                    response.type(&#x27;text/xml&#x27;);
                    oldSend.call(response,arguments[0].toString());
                } else {
                    // Continue with old version of send
                    oldSend.apply(response,arguments);
                }
            };
        }

        // Do validation if requested
        if (opts.validate) {
            // Check for a valid auth token
            if (!opts.authToken) {
                console.error(&#x27;[Twilio]: Error - Twilio auth token is required for webhook request validation.&#x27;);
                response
                    .type(&#x27;text/plain&#x27;)
                    .status(500)
                    .send(&#x27;Webhook Error - we attempted to validate this request without first configuring our auth token.&#x27;);
            } else {
                // Check that the request originated from Twilio
                valid = exports.validateExpressRequest(request, opts.authToken, {
                    url: opts.url,
                    host: opts.host,
                    protocol: opts.protocol
                });
                if (valid) {
                    next();
                } else {
                    return response
                        .type(&#x27;text/plain&#x27;)
                        .status(403)
                        .send(&#x27;Twilio Request Validation Failed.&#x27;);
                }
            }
        } else {
            next();
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
for XML (TwiML) rendering.  Default true.
- host: manually specify the host name used by Twilio in a number&#x27;s webhook config
- protocol: manually specify the protocol used by Twilio in a number&#x27;s webhook config

Returns a middleware function.

Examples:
var webhookMiddleware = twilio.<span class="apidocCodeKeywordSpan">webhook</span>();
var webhookMiddleware = twilio.webhook(&#x27;asdha9dhjasd&#x27;); //init with auth token
var webhookMiddleware = twilio.webhook({
validate:false // don&#x27;t attempt request validation
});
var webhookMiddleware = twilio.webhook({
host: &#x27;hook.twilio.com&#x27;,
protocol: &#x27;https&#x27;
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
